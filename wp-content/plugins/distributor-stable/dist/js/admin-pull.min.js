(()=>{"use strict";var e={n:t=>{var l=t&&t.__esModule?()=>t.default:()=>t;return e.d(l,{a:l}),l},d:(t,l)=>{for(var n in l)e.o(l,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:l[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.jQuery;var l=e.n(t);const n=window.wp.url,r=window.wp.i18n,{document:o,DISTRIBUTOR:d}=window,{getPullUrl:a}=d,s=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>"%"+e.charCodeAt(0).toString(16))),c=o.getElementById("pull_connections"),u=o.getElementById("pull_post_type"),i=o.getElementById("pull_post_type_submit"),p=o.getElementById("post-search-input"),g=o.getElementById("search-submit"),f=o.getElementById("posts-filter"),_=o.querySelectorAll("[name=dt_as_draft]"),y=o.querySelectorAll(".distributor_page_pull .pull a");l()(c).on("change",(e=>{const t=e.currentTarget.options[e.currentTarget.selectedIndex].getAttribute("data-pull-url-id");o.location=a(t),o.body.className+=" dt-loading"})),c&&u&&f&&(i&&l()(i).on("click",(e=>{e.preventDefault(),o.location=m(),o.body.className+=" dt-loading"})),p&&g&&l()(g).on("click",(e=>{e.preventDefault();const t=encodeURIComponent(p.value);o.location=`${m()}&s=${t}`,o.body.className+=" dt-loading"})),_&&y&&l()(_).on("change",(e=>{if(e.currentTarget.checked){for(let e=0;e<_.length;++e)_[e].checked=!0;for(let e=0;e<y.length;++e)y[e].href=(0,n.addQueryArgs)(y[e].href,{dt_as_draft:"draft"}),y[e].text=(0,r.__)("Pull as draft","distributor")}else{for(let e=0;e<_.length;++e)_[e].checked=!1;for(let e=0;e<y.length;++e)y[e].href=(0,n.addQueryArgs)(y[e].href,{dt_as_draft:""}),y[e].text=(0,r.__)("Pull","distributor")}})));const m=()=>{const e=s(u.options[u.selectedIndex].value),t=s(c.options[c.selectedIndex].getAttribute("data-pull-url-id")),l=a(t);let n="new";return-1<` ${f.className} `.indexOf(" status-skipped ")?n="skipped":-1<` ${f.className} `.indexOf(" status-pulled ")&&(n="pulled"),`${l}&pull_post_type=${e}&status=${n}`}})();